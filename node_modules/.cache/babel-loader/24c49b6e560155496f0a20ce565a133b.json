{"ast":null,"code":"var _jsxFileName = \"/Users/lbasiu/Documents/Work/developers-hub-frontend/src/components/applicationsTable/applicationsTable.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { useUser } from \"../../context/user.context\";\nimport ApiInformationLink from \"../apiInformationLink/apiInformationLink.component\";\nimport DeleteDialog from \"../dialogs/deleteDialog.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ApplicationsTable = props => {\n  _s();\n\n  const {\n    apiStatus,\n    apiData\n  } = props;\n  const history = useHistory();\n  const {\n    apiId\n  } = useParams();\n  let user = useUser();\n  let authAllowedGroups = process.env.REACT_APP_AUTH_ALLOWED_GROUPS || \"Development Team,TEST_GROUP\";\n  const isAuthorised = user.groups.some(group => authAllowedGroups.split(\",\").includes(group));\n\n  const addApplicationOnClick = () => {\n    history.push(`/api-catalogue/${apiId}/applications/new`);\n  };\n\n  const editApplicationOnClick = application => {\n    history.push({\n      pathname: `/api-catalogue/${apiId}/applications/${application.id}/edit`,\n      state: application\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"applications-table\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"govuk-caption-xl lbh-caption\",\n        children: \"Applications that utilise this API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), isAuthorised && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"govuk-button lbh-button lbh-button--add\",\n        onClick: addApplicationOnClick,\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"12\",\n          height: \"12\",\n          viewBox: \"0 0 12 12\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M6.94 0L5 0V12H6.94V0Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 5H0V7H12V5Z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), \"Add a new application\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column-2\",\n      children: /*#__PURE__*/_jsxDEV(\"dl\", {\n        className: \"govuk-summary-list lbh-summary-list\",\n        children: [apiStatus.isLoaded && apiData.applications.map((application, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"govuk-summary-list__row\",\n          children: [/*#__PURE__*/_jsxDEV(\"dd\", {\n            className: \"govuk-summary-list__key\",\n            children: /*#__PURE__*/_jsxDEV(ApiInformationLink, {\n              linkText: application.name,\n              url: application.link\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), isAuthorised && /*#__PURE__*/_jsxDEV(\"dt\", {\n            className: \"govuk-summary-list__actions\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"govuk-summary-list__actions-list-item\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"lbh-link lbh-link--no-visited-state edit-link\",\n                  onClick: () => editApplicationOnClick(application),\n                  children: [\"Edit\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"govuk-visually-hidden\",\n                    children: \" application\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"govuk-summary-list__actions-list-item\",\n                children: /*#__PURE__*/_jsxDEV(DeleteDialog, { ...props,\n                  ...application\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 46\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this)), apiStatus.isLoaded && apiData.applications.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lbh-body-m\",\n          children: \"No applications found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 81\n        }, this), !apiStatus.isLoaded && /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ApplicationsTable, \"PvKDdwviMbZF+knVnU6CX7o2ArQ=\", false, function () {\n  return [useHistory, useParams, useUser];\n});\n\n_c = ApplicationsTable;\nexport default ApplicationsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ApplicationsTable\");","map":{"version":3,"names":["React","Skeleton","useHistory","useParams","useUser","ApiInformationLink","DeleteDialog","ApplicationsTable","props","apiStatus","apiData","history","apiId","user","authAllowedGroups","process","env","REACT_APP_AUTH_ALLOWED_GROUPS","isAuthorised","groups","some","group","split","includes","addApplicationOnClick","push","editApplicationOnClick","application","pathname","id","state","isLoaded","applications","map","key","name","link","length"],"sources":["/Users/lbasiu/Documents/Work/developers-hub-frontend/src/components/applicationsTable/applicationsTable.component.jsx"],"sourcesContent":["import React from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { useUser } from \"../../context/user.context\";\n\nimport ApiInformationLink from \"../apiInformationLink/apiInformationLink.component\";\nimport DeleteDialog from \"../dialogs/deleteDialog.component\";\n    \nconst ApplicationsTable = (props) => {\n    const {apiStatus, apiData} = props;\n    const history = useHistory();\n    const { apiId } = useParams();\n\n    let user = useUser();\n    let authAllowedGroups = process.env.REACT_APP_AUTH_ALLOWED_GROUPS || \"Development Team,TEST_GROUP\";\n    const isAuthorised = user.groups.some((group) => authAllowedGroups.split(\",\").includes(group));\n\n\n\n    const addApplicationOnClick = () => {\n        history.push(`/api-catalogue/${apiId}/applications/new`);\n    }\n\n    const editApplicationOnClick = (application) => {\n        history.push({\n            pathname: `/api-catalogue/${apiId}/applications/${application.id}/edit`,\n            state: application \n        });\n    }\n\n    return (\n        <div id=\"applications-table\">\n            <div className=\"table-header\">   \n                <span className=\"govuk-caption-xl lbh-caption\">\n                    Applications that utilise this API\n                </span>\n                {isAuthorised && <button \n                    className=\"govuk-button lbh-button lbh-button--add\"\n                    onClick={addApplicationOnClick}\n                >\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\">\n                        <path d=\"M6.94 0L5 0V12H6.94V0Z\" />\n                        <path d=\"M12 5H0V7H12V5Z\" />\n                    </svg>\n                    Add a new application\n                </button>}\n            </div>\n            <hr/>\n            <div className=\"column-2\">\n                <dl className=\"govuk-summary-list lbh-summary-list\">\n                    {apiStatus.isLoaded && apiData.applications.map((application, key) => (\n                        <div key={key} className=\"govuk-summary-list__row\">\n                            <dd className=\"govuk-summary-list__key\">\n                                <ApiInformationLink linkText={application.name} url={application.link}/>\n                            </dd>\n                            {isAuthorised && <dt className=\"govuk-summary-list__actions\">\n                                <ul>\n                                    <li className=\"govuk-summary-list__actions-list-item\">\n                                        <button \n                                            className=\"lbh-link lbh-link--no-visited-state edit-link\"\n                                            onClick={() => editApplicationOnClick(application)}\n                                        >\n                                            Edit<span className=\"govuk-visually-hidden\"> application</span>\n                                        </button>\n                                    </li>\n                                    <li className=\"govuk-summary-list__actions-list-item\">\n                                        <DeleteDialog {...props} {...application}/>\n                                    </li>\n                                </ul>\n                            </dt>}\n                        </div>\n                    ))}\n\n                    {apiStatus.isLoaded && apiData.applications.length === 0 && <p className=\"lbh-body-m\">No applications found.</p>}\n                    {!apiStatus.isLoaded && <Skeleton />}\n                </dl>\n            </div>\n        </div>\n    );\n};\n\nexport default ApplicationsTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}