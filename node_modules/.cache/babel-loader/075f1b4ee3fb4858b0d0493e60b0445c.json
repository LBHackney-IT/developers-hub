{"ast":null,"code":"import _slicedToArray from\"/Users/lbasiu/Documents/Repos/developers-hub-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useContext,useState,useCallback}from\"react\";import Cookies from'js-cookie';import jwtDecode from'jwt-decode';import{jsx as _jsx}from\"react/jsx-runtime\";var UserContext=/*#__PURE__*/createContext(null);// Create Usercontext\nvar parseToken=function parseToken(){var token=Cookies.get('hackneyToken')||null;try{var decodedToken=jwtDecode(token);return decodedToken;}catch(e){return null;}};export var UserProvider=function UserProvider(_ref){var children=_ref.children;// decode cookie value\nvar _useState=useState(parseToken()),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var logoutUser=useCallback(function(){setUser(null);// delete cookie\nCookies.remove('hackneyToken');},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user:user,logout:logoutUser},children:children});};export var useUser=function useUser(){var _useContext=useContext(UserContext),user=_useContext.user;return user;};var SignOut=function SignOut(){var _useContext2=useContext(UserContext),logout=_useContext2.logout;return/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"});};export default UserContext;","map":{"version":3,"sources":["/Users/lbasiu/Documents/Repos/developers-hub-frontend/src/context/user.context.js"],"names":["createContext","useContext","useState","useCallback","Cookies","jwtDecode","UserContext","parseToken","token","get","decodedToken","e","UserProvider","children","user","setUser","logoutUser","remove","logout","useUser","SignOut"],"mappings":"4KAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,QAApC,CAA8CC,WAA9C,KAAiE,OAAjE,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,2CAEA,GAAMC,CAAAA,WAAW,cAAGN,aAAa,CAAC,IAAD,CAAjC,CAEA;AAEA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,KAAK,CAAGJ,OAAO,CAACK,GAAR,CAAY,cAAZ,GAA+B,IAA7C,CAEA,GAAI,CACF,GAAMC,CAAAA,YAAY,CAAGL,SAAS,CAACG,KAAD,CAA9B,CACE,MAAOE,CAAAA,YAAP,CACH,CAAC,MAAMC,CAAN,CAAS,CACP,MAAO,KAAP,CACH,CACJ,CATD,CAWA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC5C;AAD4C,cAEnBX,QAAQ,CAACK,UAAU,EAAX,CAFW,wCAEpCO,IAFoC,eAE9BC,OAF8B,eAI5C,GAAMC,CAAAA,UAAU,CAAGb,WAAW,CAAC,UAAM,CACnCY,OAAO,CAAC,IAAD,CAAP,CACA;AACAX,OAAO,CAACa,MAAR,CAAe,cAAf,EACD,CAJ6B,CAI3B,EAJ2B,CAA9B,CAMA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEH,IAAI,CAAJA,IAAF,CAAQI,MAAM,CAAEF,UAAhB,CAA7B,UAA4DH,QAA5D,EAAP,CACD,CAXM,CAaP,MAAO,IAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,iBACVlB,UAAU,CAACK,WAAD,CADA,CACnBQ,IADmB,aACnBA,IADmB,CAE3B,MAAOA,CAAAA,IAAP,CACD,CAHM,CAKP,GAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,kBACDnB,UAAU,CAACK,WAAD,CADT,CACZY,MADY,cACZA,MADY,CAEpB,mBAAO,eAAQ,OAAO,CAAEA,MAAjB,oBAAP,CACD,CAHD,CAKA,cAAeZ,CAAAA,WAAf","sourcesContent":["import { createContext, useContext, useState, useCallback } from \"react\";\nimport Cookies from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\n\nconst UserContext = createContext(null);\n\n// Create Usercontext\n\nconst parseToken = () => {\n    const token = Cookies.get('hackneyToken') || null;\n    \n    try {\n      const decodedToken = jwtDecode(token);\n        return decodedToken;\n    } catch(e) {\n        return null;\n    }\n}\n\nexport const UserProvider = ({ children }) => {\n  // decode cookie value\n  const [ user, setUser ]= useState(parseToken())\n\n  const logoutUser = useCallback(() => {\n    setUser(null);\n    // delete cookie\n    Cookies.remove('hackneyToken');\n  }, [])\n\n  return <UserContext.Provider value={{ user, logout: logoutUser }}>{children}</UserContext.Provider>;\n}\n\nexport const useUser = () => {\n  const { user } = useContext(UserContext);\n  return user;\n}\n\nconst SignOut = () => {\n  const { logout } = useContext(UserContext);\n  return <button onClick={logout}>Logout</button>;\n}\n\nexport default UserContext\n"]},"metadata":{},"sourceType":"module"}