{"ast":null,"code":"var _jsxFileName = \"/Users/lbasiu/Documents/Repos/developers-hub-frontend/src/context/user.context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { createContext, useContext, useState, useCallback } from \"react\";\nimport Cookies from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext(null); // Create Usercontext\n\nconst parseToken = () => {\n  const token = Cookies.get('hackneyToken') || null;\n\n  try {\n    const decodedToken = jwtDecode(token);\n    return decodedToken;\n  } catch (e) {\n    return null;\n  }\n};\n\nexport const UserProvider = ({\n  children\n}) => {\n  _s();\n\n  // decode cookie value\n  const [user, setUser] = useState(parseToken());\n  const logoutUser = useCallback(() => {\n    setUser(null); // delete cookie\n\n    Cookies.remove('hackneyToken');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      logout: logoutUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 10\n  }, this);\n};\n\n_s(UserProvider, \"3OH4P5UTm7GwQDySZwtI+aaeIFg=\");\n\n_c = UserProvider;\nexport const useUser = () => {\n  _s2();\n\n  const {\n    user\n  } = useContext(UserContext);\n  return user;\n};\n\n_s2(useUser, \"y3FQDew7UyrSqYkvQcTdCsLbAB8=\");\n\nconst SignOut = () => {\n  _s3();\n\n  const {\n    logout\n  } = useContext(UserContext);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: logout,\n    children: \"Logout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n};\n\n_s3(SignOut, \"BmDOwLE8D2PZUdjfQ8NTlIR7vUw=\");\n\n_c2 = SignOut;\nexport default UserContext;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserProvider\");\n$RefreshReg$(_c2, \"SignOut\");","map":{"version":3,"sources":["/Users/lbasiu/Documents/Repos/developers-hub-frontend/src/context/user.context.js"],"names":["createContext","useContext","useState","useCallback","Cookies","jwtDecode","UserContext","parseToken","token","get","decodedToken","e","UserProvider","children","user","setUser","logoutUser","remove","logout","useUser","SignOut"],"mappings":";;;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,QAApC,EAA8CC,WAA9C,QAAiE,OAAjE;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,WAAW,gBAAGN,aAAa,CAAC,IAAD,CAAjC,C,CAEA;;AAEA,MAAMO,UAAU,GAAG,MAAM;AACrB,QAAMC,KAAK,GAAGJ,OAAO,CAACK,GAAR,CAAY,cAAZ,KAA+B,IAA7C;;AAEA,MAAI;AACF,UAAMC,YAAY,GAAGL,SAAS,CAACG,KAAD,CAA9B;AACE,WAAOE,YAAP;AACH,GAHD,CAGE,OAAMC,CAAN,EAAS;AACP,WAAO,IAAP;AACH;AACJ,CATD;;AAWA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC5C;AACA,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAmBb,QAAQ,CAACK,UAAU,EAAX,CAAjC;AAEA,QAAMS,UAAU,GAAGb,WAAW,CAAC,MAAM;AACnCY,IAAAA,OAAO,CAAC,IAAD,CAAP,CADmC,CAEnC;;AACAX,IAAAA,OAAO,CAACa,MAAR,CAAe,cAAf;AACD,GAJ6B,EAI3B,EAJ2B,CAA9B;AAMA,sBAAO,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEH,MAAAA,IAAF;AAAQI,MAAAA,MAAM,EAAEF;AAAhB,KAA7B;AAAA,cAA4DH;AAA5D;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAXM;;GAAMD,Y;;KAAAA,Y;AAab,OAAO,MAAMO,OAAO,GAAG,MAAM;AAAA;;AAC3B,QAAM;AAAEL,IAAAA;AAAF,MAAWb,UAAU,CAACK,WAAD,CAA3B;AACA,SAAOQ,IAAP;AACD,CAHM;;IAAMK,O;;AAKb,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACpB,QAAM;AAAEF,IAAAA;AAAF,MAAajB,UAAU,CAACK,WAAD,CAA7B;AACA,sBAAO;AAAQ,IAAA,OAAO,EAAEY,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAHD;;IAAME,O;;MAAAA,O;AAKN,eAAed,WAAf","sourcesContent":["import { createContext, useContext, useState, useCallback } from \"react\";\nimport Cookies from 'js-cookie';\nimport jwtDecode from 'jwt-decode';\n\nconst UserContext = createContext(null);\n\n// Create Usercontext\n\nconst parseToken = () => {\n    const token = Cookies.get('hackneyToken') || null;\n    \n    try {\n      const decodedToken = jwtDecode(token);\n        return decodedToken;\n    } catch(e) {\n        return null;\n    }\n}\n\nexport const UserProvider = ({ children }) => {\n  // decode cookie value\n  const [ user, setUser ]= useState(parseToken())\n\n  const logoutUser = useCallback(() => {\n    setUser(null);\n    // delete cookie\n    Cookies.remove('hackneyToken');\n  }, [])\n\n  return <UserContext.Provider value={{ user, logout: logoutUser }}>{children}</UserContext.Provider>;\n}\n\nexport const useUser = () => {\n  const { user } = useContext(UserContext);\n  return user;\n}\n\nconst SignOut = () => {\n  const { logout } = useContext(UserContext);\n  return <button onClick={logout}>Logout</button>;\n}\n\nexport default UserContext\n"]},"metadata":{},"sourceType":"module"}